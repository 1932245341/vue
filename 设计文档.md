# 后台管理系统架构设计

## 一、系统整体架构

系统将采用 Vue3 + Element Plus + Axios  的技术栈，遵循模块化和组件化的设计理念。

## 二、核心组件

### 1. 布局组件

需要开发的布局组件：

- **Sidebar（侧边导航栏）**：负责系统的主要导航功能，已实现各个模块的菜单项和图标。

- **Navbar（顶部导航栏）**：显示面包屑导航、用户信息和操作选项，已实现退出登录功能。

- **AppMain**：主内容区域，用于渲染路由视图。

- **TagsView**：快速导航标签栏，记录用户访问过的页面。

- **Footer**：页脚信息，显示版权和系统信息。

### 2. 通用组件

需要开发的通用组件：

- **SearchForm**：搜索表单组件，支持多条件筛选。

- **DataTable**：数据表格组件，支持分页、排序、选择等功能。

- **DetailForm**：详情表单组件，用于数据展示和编辑。

- **ImageUploader**：图片上传组件，支持预览、裁剪和删除。

- **RichTextEditor**：富文本编辑器，用于内容编辑。

- **StatusTag**：状态标签组件，用于显示不同状态。

- **ConfirmButton**：确认按钮组件，用于危险操作的二次确认。

## 三、页面结构

### 1. 特殊页面

- **登录页面（/login）**：系统入口，不使用主布局，包含登录表单和验证码。

- **404页面**：处理未找到的路由。

- **403页面**：处理无权限访问的情况。

- **个人中心（/profile）**：用户个人信息管理。

- **首页/控制台（/dashboard）**：展示系统概览数据和统计图表。

### 2. 功能模块页面

#### 系统管理模块

- **管理员管理（/admin）**：管理员列表、添加/编辑管理员、权限分配。

- **营销人员管理（/marketer）**：营销人员列表、添加/编辑营销人员。

#### 景点管理模块

- **景点列表（/scenic）**：景点信息展示、搜索、添加/编辑/删除景点。

- **门票管理（/ticket）**：门票信息管理、价格设置、库存管理。

#### 酒店管理模块

- **酒店列表（/hotel）**：酒店信息展示、搜索、添加/编辑/删除酒店。

- **房间管理（/room）**：房间类型管理、价格设置、库存管理。

#### 餐厅管理模块

- **餐厅列表（/restaurant）**：餐厅信息展示、搜索、添加/编辑/删除餐厅。

- **菜品管理（/dish）**：菜品信息管理、价格设置。

#### 特产管理模块

- **特产列表（/specialty）**：特产信息展示、搜索、添加/编辑/删除特产。

#### 停车场管理模块

- **停车场列表（/parking）**：停车场信息展示、搜索、添加/编辑/删除停车场。

## 四、开发流程

### 1. 前期准备

- [ ] 创建项目基础结构

- [ ] 配置路由和布局

- [ ] 实现API接口封装

- [ ] 创建工具函数库

- [ ] 实现布局组件（Sidebar和Navbar）

### 2. 核心功能开发

- [ ] 实现登录页面和认证功能

- [ ] 开发Dashboard页面

- [ ] 实现通用组件库

- [ ] 开发各功能模块的列表页面

- [ ] 开发各功能模块的表单页面

### 3. 系统优化

- [ ] 实现权限控制

- [ ] 添加数据缓存机制

- [ ] 优化页面加载性能

- [ ] 实现主题切换功能

## 五、数据流转

1. **用户认证流程**：

- 用户输入账号密码 → 调用登录API → 获取token → 存储token → 获取用户信息 → 跳转到首页

2. **数据管理流程**：

- 列表页：调用列表API → 渲染数据表格 → 分页/筛选/排序操作 → 更新数据

- 表单页：获取详情数据 → 渲染表单 → 用户编辑 → 表单验证 → 提交数据 → 返回列表页

3. **权限控制流程**：

- 路由守卫检查token → 获取用户权限 → 动态生成可访问路由 → 根据权限显示/隐藏菜单项和操作按钮

## 六、技术要点

1. 使用Vue Router进行路由管理，支持路由懒加载和权限控制

2. 使用Element Plus组件库构建UI界面

3. 使用Axios进行API请求，统一处理请求和响应

4. 使用工具函数库提高代码复用性和开发效率

5. 使用本地存储管理用户token和配置信息

通过以上架构设计，我们可以构建一个功能完善、易于维护和扩展的后台管理系统，满足旅游服务平台的管理需求。